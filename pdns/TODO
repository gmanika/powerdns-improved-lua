
bugs:
	pdns.conf-dist contains old descriptions

Things we will not do but hope other people will:
	- Ports to NetBSD, OpenBSD, AIX

	webserver has problems with 'top-100 queries' instead of top-10.

Projects we will be working on, but would like help for:

Big things:
	- Add recursion

	- new plan
Like in the old days but with a twist - additional processing is done on a
best-effort basis by a non-rd packet sent to syncres. This means we can stay
lazy for far longer!

TODO:
	learn syncres not to expire its roots
		put a watch on that
	learn syncres to load its roots from disk too or at completime
	be able to reduce logging
	get a way to nuke the cache/parts of the cache
	learn syncres that it should serve answers from its cache
	   immediately on a non-rd query


	
		
How will this work. Anything that has an RD bit goes to syncres. We need to
send 5 things: "qname, qtype, socket on which to send the answer,id,flags".
PowerDNS then forgets all about it.

The recursor receives these questions and goes prowling for the right
answers. In this, it uses the main PDNS query cache. So we need either a
full socket to communicate with or two pipes.

Communications can be a stream, but access must be strictly serialized!

Each query 'upwards' consists of a marker and a tuple, PDNS replies with
serialized DNSResourceRecords, ending with an empty line.

typical communication might be:

        qdomain    qt  socket    id   remote
-> www.powerdns.com 1   10       123 5.4.3.2
<- Q: www.powerdns.com CNAME
-> .
<- Q: www.powerdns.com A
-> .
<- Q: www.powerdns.com NS
-> .
<- Q: powerdns.com NS
-> .
<- Q: com NS
-> COM|NS|A.GTLD-SERVERS.NET..
-> COM|NS|B.GTLD-SERVERS.NET..
-> .
<- Q: A.GTLD-SERVERS.NET A
-> A.GTLD-SERVERS.NET|A|1.2.3.4
<- A: powerdns.com 5
<- powerdns.com|NS|dns-eu1.powerdns.net
<- powerdns.com|NS|dns-us1.powerdns.net
<- .

           qdomain   qtype socket    id remote   rcode
<- P: www.powerdns.com 1   10       123 5.4.3.2    0     <- reply packet
<- www.powerdns.com|A|1.2.3.4
<- powerdns.com|NS|dns-eu1.powerdns.net
<- powerdns.com|NS|dns-us1.powerdns.net
<.

 

	Answers pushed upwards are inserted in the query cache with a
'unauth' flag.

	so, we need a syncres communicator which is executed with as
parameter the fd it will find a socket on for its perusal.




	- Add support for TSIG

Medium size things:
	- 64 bit cleanliness
		compiles on 64 bit, but does it work?
	- Improve bind 'workalike' mode so we are a drop-in replacement for
	  non-resolving bind. We're 90% there.
		- improve atomic zone swapping
			right now we are SOL if we try to reload a broken zone

	- get PDNS into Red Hat 8.x 
		needs very good RPMS 	
		need to get Red Hat interested
	- get PDNS into FreeBSD ports
	- and other architectures	
	- test powerdns in a windows environment!


Small things, great for coders new to PowerDNS:
done	- add LOC record
	- add KEY record
	- add SIG record
done	- get the xdb backend building again
	- 'make distclean' tries to calculate dependencies in
		modules/pgmysqlbackend, which is not needed
	- remove 'handle' from UeberBackend and BindBackend


	- investigate if the following is better for the spgsql driver:
int SPgSQL::doQuery(const string &query)
{
  ExecStatusType stat;
  stat=d_db->Exec(query.c_str());
  if(stat!=PGRES_COMMAND_OK && stat!=PGRES_TUPLES_OK)
    throw sPerrorException("PostgreSQL failed to execute command");

  d_count=0;
  return 0;
}
